<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to legco • legco</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to legco">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-143765255-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-143765255-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">legco</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href=".././">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/introduction.html">Introduction</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Functions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/attn.html">Attendance Database</a>
    </li>
    <li>
      <a href="../articles/bills.html">Bills Database</a>
    </li>
    <li>
      <a href="../articles/hansard.html">Hansard Database</a>
    </li>
    <li>
      <a href="../articles/schedule.html">Meeting Schedule Database</a>
    </li>
    <li>
      <a href="../articles/voting.html">Voting Results Database</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href=".././legcoplus">Add-on: legcoplus</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/elgarteo">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to legco</h1>
            
            <h4 class="date">2019-07-25</h4>
      
      
      <div class="hidden name"><code>introduction.Rmd</code></div>

    </div>

    
    
<p><code>legco</code> is an R package to fetch data from the Hong Kong Legislative Council (LegCo) APIs. It provides easy access to LegCo’s open data in an intergrated manner without having to dig deep into the structures and parameters of the APIs. Each function corresponds to a data endpoint of the APIs. Data is retrieved in json format and presented in a dataframe.</p>
<div id="installing-legco" class="section level2">
<h2 class="hasAnchor">
<a href="#installing-legco" class="anchor"></a>Installing legco</h2>
<div id="from-github" class="section level3">
<h3 class="hasAnchor">
<a href="#from-github" class="anchor"></a>From GitHub</h3>
<p><em>Available Soon</em></p>
</div>
<div id="from-web" class="section level3">
<h3 class="hasAnchor">
<a href="#from-web" class="anchor"></a>From web</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"https://elgarteo.ga/legco/legco_0.0.9999.tar.gz"</span>, <span class="dt">repos =</span> <span class="ot">NULL</span>, <span class="dt">type =</span> <span class="st">"source"</span>)</span></code></pre></div>
</div>
<div id="load-legco" class="section level3">
<h3 class="hasAnchor">
<a href="#load-legco" class="anchor"></a>Load legco</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(legco)</span></code></pre></div>
</div>
</div>
<div id="understanding-the-legco-apis" class="section level2">
<h2 class="hasAnchor">
<a href="#understanding-the-legco-apis" class="anchor"></a>Understanding the LegCo APIs</h2>
<p>The LegCo APIs consist of different databases with seperate structures and identifiers, and each database has its own API. The functions in this package correspond to the various data endpoints of these APIs. The databases supported by this package and the associating functions are as follow.</p>
<ol style="list-style-type: decimal">
<li>
<p><strong>Attendance Database</strong></p>
<p>This database contains the attendance record of Council and committee open meetings since the sixth term.</p>
<p>This database is accessible with the following function:</p>
<ul>
<li>
<code><a href="../reference/attendance.html">attendance()</a></code> fetches the attendance of members in Council and committee meetings.</li>
</ul>
<p>See <a href="./attn.html">here</a> for more information of this database.</p>
</li>
<li>
<p><strong>Bills Database</strong></p>
<p>This database contains key information of all the bills that have been presented in LegCo since 1906. This database is accessible with the following function:</p>
<ul>
<li>
<code><a href="../reference/all_bills.html">all_bills()</a></code> fetches the information of bills that have gone through LegCo.</li>
</ul>
<p>Comapred to <code><a href="../reference/bills.html">bills()</a></code> of the Hansard Database, <code><a href="../reference/all_bills.html">all_bills()</a></code> provides much more comprehensive information of bills, including all key dates and the proposer.</p>
<p>See <a href="./bills.html">here</a> for more information of this database.</p>
</li>
<li>
<p><strong>Hansard Database</strong></p>
<p>This database contains information on matters discussed in Council meeting since the fifth term of LegCo. Hinting by its name, the database is built upon the PDF hansard files. Relying on the bookmarks and section codes of the hansard files, the data endpoints retrieve data from the files directly. This database is accessible with the following functions/data:</p>
<ul>
<li>
<code><a href="../reference/hansard.html">hansard()</a></code> fetches the information of the hansard files.</li>
<li>
<code>legco_section_type</code> is a data frame that explains that meaning of the section codes used in the hansard files.</li>
<li>
<code><a href="../reference/subjects.html">subjects()</a></code> fetches the subjects in the hansard files, which are essentially items in the meeting agenda.</li>
<li>
<code><a href="../reference/speakers.html">speakers()</a></code> fetches the speakers in meetings, including members, government officials and secretariat staff.</li>
<li>
<code><a href="../reference/rundown.html">rundown()</a></code> fetches the full text of the hansard files.</li>
<li>
<code><a href="../reference/questions.html">questions()</a></code> fetches the questions put on the government by the members during Council meetings.</li>
<li>
<code><a href="../reference/bills.html">bills()</a></code> fetches bills that have been debated in Council meetings.</li>
<li>
<code><a href="../reference/motions.html">motions()</a></code> fetches motions that have been debated in Council meetings.</li>
<li>
<code><a href="../reference/petitions.html">petitions()</a></code> fetches petitions initiated by members in Council meetings.</li>
<li>
<code><a href="../reference/addresses.html">addresses()</a></code> fetches addresses made by members or government officials while presenting papers to the Council.</li>
<li>
<code><a href="../reference/statements.html">statements()</a></code> fetches statments made by government officials in Council meetings.</li>
<li>
<code><a href="../reference/voting_results.html">voting_results()</a></code> fetches the results of votes conducted in Council meetings.</li>
<li>
<code><a href="../reference/summoning_bells.html">summoning_bells()</a></code> fetches instances in which the summoning bell have been rung in Council meetings.</li>
</ul>
<p>When using in combination, these functions are essentially hansard files crawler.</p>
<p>See <a href="./hansard.html">here</a> for more information of this database.</p>
</li>
<li>
<p><strong>Meeting Schedule Database</strong></p>
<p>This database contains the member list and the meeting schedule of the Council and every committee since the fifth term of LegCo. This database is accessible with the following functions:</p>
<ul>
<li>
<code><a href="../reference/term.html">term()</a></code> fetches the terms in LegCo.</li>
<li>
<code><a href="../reference/session.html">session()</a></code> fetches the sessions in LegCo.</li>
<li>
<code><a href="../reference/committee.html">committee()</a></code> fetches a list of LegCo committees.</li>
<li>
<code><a href="../reference/membership.html">membership()</a></code> fetches the members of each committee in the form of Member ID.</li>
<li>
<code><a href="../reference/member.html">member()</a></code> fetches the members in LegCo.</li>
<li>
<code><a href="../reference/member_term.html">member_term()</a></code> fetches the terms LegCo members have served in.</li>
<li>
<code><a href="../reference/meeting.html">meeting()</a></code> fetches the meeting schedule of LegCo committees in the form of Meet ID.</li>
<li>
<code><a href="../reference/meeting_committee.html">meeting_committee()</a></code> fetches which committee holds a meeting.</li>
</ul>
<p>While the purpose of <code><a href="../reference/member.html">member()</a></code> is similar to <code><a href="../reference/speakers.html">speakers()</a></code> of the Hansard Database, <code><a href="../reference/member.html">member()</a></code> returns only LegCo members. Their identifiers, i.e. Speaker ID and Member ID, are unique and not interchangeable.</p>
<p>See <a href="./schedule.html">here</a> for more information of this database.</p>
</li>
<li>
<p><strong>Voting Results Database</strong></p>
<p>This database contains voting results of the Council, the House Committee and the Finance Committee and its subcomittees starting from the fifth term of LegCo. This database is accessible with the following function:</p>
<ul>
<li>
<code><a href="../reference/voting_record.html">voting_record()</a></code> fetches the information of votes conducted in the meetings, including the voting record of each member.</li>
</ul>
<p>While <code><a href="../reference/voting_results.html">voting_results()</a></code> of the Hansard Database returns only the overall result of votes conducted in Council meetings, <code><a href="../reference/voting_record.html">voting_record()</a></code> returns much more detailed information of votes conducted in Council and other four committees and subcommittees meetings.</p>
<p>See <a href="./voting.html">here</a> for more information of this database.</p>
</li>
</ol>
<hr>
<p>A generic function <code><a href="../reference/legco_api.html">legco_api()</a></code> is available for access to other databases and endpoints of the LegCo APIs that are not specified here.</p>
<p>All functions can also be accessed with the prefix <code>legco_</code>, e.g. <code><a href="../reference/speakers.html">legco_speakers()</a></code> and <code><a href="../reference/speakers.html">speakers()</a></code> return the same result.</p>
</div>
<div id="api-limits" class="section level2">
<h2 class="hasAnchor">
<a href="#api-limits" class="anchor"></a>API Limits</h2>
<div id="request-limit" class="section level3">
<h3 class="hasAnchor">
<a href="#request-limit" class="anchor"></a>Request Limit</h3>
<p>LegCo APIs have a limit of 1000 requests per IP per hour. Once the limit is reached, you will not be able to retrieve any data for awhile. If you run into the following error message while pretty sure you have the correct parameters, you have probably reached the limit:</p>
<pre><code>## Retrieving records...</code></pre>
<pre><code>## Error in legco_api("hansard", query, 1000, count, verbose): The request did not return any data. Please check your parameters.</code></pre>
</div>
<div id="node-count-limit" class="section level3">
<h3 class="hasAnchor">
<a href="#node-count-limit" class="anchor"></a>Node Count Limit</h3>
<p>Another limit is the node count limit which is associated with the setting of the LegCo API server. The limit is at most 100 nodes per request, or approximately 19 filtering conditions in most cases. For instance, the following code contains 20 filtering conditions and thus reach the node count limit:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># A request with 20 filtering conditions</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>x &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">13</span>, <span class="dv">15</span>, <span class="dv">17</span>, <span class="dv">19</span>,</span>
<span id="cb5-3"><a href="#cb5-3"></a>       <span class="dv">21</span>, <span class="dv">23</span>, <span class="dv">25</span>, <span class="dv">27</span>, <span class="dv">29</span>, <span class="dv">31</span>, <span class="dv">33</span>, <span class="dv">35</span>, <span class="dv">37</span>, <span class="dv">39</span>)</span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="kw"><a href="../reference/speakers.html">speakers</a></span>(x)</span></code></pre></div>
<pre><code>## Retrieving records...</code></pre>
<pre><code>## Retrieved 20 record(s). 20 record(s) available in total.</code></pre>
<pre><code>##    SpeakerID                NameChi
## 1          7             政務司司長
## 2          5         代理全委會主席
## 3          3               代理主席
## 4          1                   主席
## 5         15   政制及內地事務局局長
## 6         21             發展局局長
## 7         17             教育局局長
## 8         19       食物及衞生局局長
## 9         13   財經事務及庫務局局長
## 10        11         民政事務局局長
## 11         9             律政司司長
## 12        31 商務及經濟發展局副局長
## 13        29           教育局副局長
## 14        25           環境局副局長
## 15        23 財經事務及庫務局副局長
## 16        27           保安局副局長
## 17        35                 李卓人
## 18        33                 何俊仁
## 19        39                 涂謹申
## 20        37                 李華明
##                                                    NameEng Type Initial
## 1                       CHIEF SECRETARY FOR ADMINISTRATION   PO     CSA
## 2                                          DEPUTY CHAIRMAN   LC     DCM
## 3                                         DEPUTY PRESIDENT   LC    DPSD
## 4                                                PRESIDENT   LC     PSD
## 5        SECRETARY FOR CONSTITUTIONAL AND MAINLAND AFFAIRS   PO    SCMA
## 6                                SECRETARY FOR DEVELOPMENT   PO      SD
## 7                                  SECRETARY FOR EDUCATION   PO      SE
## 8                            SECRETARY FOR FOOD AND HEALTH   PO     SFH
## 9        SECRETARY FOR FINANCIAL SERVICES AND THE TREASURY   PO    SFST
## 10                              SECRETARY FOR HOME AFFAIRS   PO     SHA
## 11                                   SECRETARY FOR JUSTICE   PO      SJ
## 12   UNDER SECRETARY FOR COMMERCE AND ECONOMIC DEVELOPMENT   PO   USCED
## 13                           UNDER SECRETARY FOR EDUCATION   PO   USEDU
## 14                     UNDER SECRETARY FOR THE ENVIRONMENT   PO   USENV
## 15 UNDER SECRETARY FOR FINANCIAL SERVICES AND THE TREASURY   PO  USFAST
## 16                            UNDER SECRETARY FOR SECURITY   PO     USS
## 17                                           LEE CHEUK-YAN   MB     LCY
## 18                                               ALBERT HO   MB      AH
## 19                                                JAMES TO   MB     TKS
## 20                                                 FRED LI   MB      FL
##    FirstName LastName
## 1                    
## 2                    
## 3                    
## 4                    
## 5                    
## 6                    
## 7                    
## 8                    
## 9                    
## 10                   
## 11                   
## 12                   
## 13                   
## 14                   
## 15                   
## 16                   
## 17 Cheuk-yan      LEE
## 18  Chun-yan       HO
## 19   Kun-sun       TO
## 20  Wah-ming       LI</code></pre>
<p>If you run into the error message above, you need to break it down to multiple smaller requests, like <a href="#examples">one of the examples below</a>.</p>
<p>Note that numeric filtering conditions that are sequential are not subjected to this limit:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># A request with sequential numeric filtering conditions</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>x &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">50</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="kw"><a href="../reference/speakers.html">speakers</a></span>(x)</span></code></pre></div>
<p>The code above will execute just fine without reaching the node count limit even though it effectively contains 50 filtering conditions.</p>
</div>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>The following code shows all the Council meetings held from May 1, 2018 to May 31, 2018.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw"><a href="../reference/hansard.html">hansard</a></span>(<span class="dt">from =</span> <span class="st">"2018-05-01"</span>, <span class="dt">to =</span> <span class="st">"2018-05-31"</span>)</span></code></pre></div>
<pre><code>##    HansardID         MeetingDate          AgendaDate isCEQandA isCEQT
## 1       2407 2018-05-02T00:00:00 2018-05-02T00:00:00         0      0
## 2       2526 2018-05-03T00:00:00 2018-05-02T00:00:00         0      0
## 3       2405 2018-05-03T00:00:00 2018-05-03T00:00:00         1      0
## 4       2418 2018-05-09T00:00:00 2018-05-09T00:00:00         0      0
## 5       2419 2018-05-10T00:00:00 2018-05-09T00:00:00         0      0
## 6       2425 2018-05-16T00:00:00 2018-05-16T00:00:00         0      0
## 7       2434 2018-05-17T00:00:00 2018-05-16T00:00:00         0      0
## 8       2443 2018-05-23T00:00:00 2018-05-23T00:00:00         0      1
## 9       2451 2018-05-23T00:00:00 2018-05-23T00:00:00         0      0
## 10      2450 2018-05-24T00:00:00 2018-05-23T00:00:00         0      0
## 11      2541 2018-05-30T00:00:00 2018-05-30T00:00:00         0      0
## 12      2462 2018-05-31T00:00:00 2018-05-30T00:00:00         0      0
##                                                                          HansardFileURL
## 1   https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180502-translate-e.pdf
## 2   https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180503-translate-e.pdf
## 3  https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180503a-translate-e.pdf
## 4   https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180509-translate-e.pdf
## 5   https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180510-translate-e.pdf
## 6   https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180516-translate-e.pdf
## 7   https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180517-translate-e.pdf
## 8  https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180523q-translate-e.pdf
## 9   https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180523-translate-e.pdf
## 10  https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180524-translate-e.pdf
## 11  https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180530-translate-e.pdf
## 12  https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180531-translate-e.pdf</code></pre>
<p>To fetch the items on the agenda of the meeting on May 23, 2018:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw"><a href="../reference/subjects.html">subjects</a></span>(<span class="dt">hansard_id =</span> <span class="dv">2451</span>)</span></code></pre></div>
<pre><code>##            MeetingDate
## 1  2018-05-23T00:00:00
## 2  2018-05-23T00:00:00
## 3  2018-05-23T00:00:00
## 4  2018-05-23T00:00:00
## 5  2018-05-23T00:00:00
## 6  2018-05-23T00:00:00
## 7  2018-05-23T00:00:00
## 8  2018-05-23T00:00:00
## 9  2018-05-23T00:00:00
## 10 2018-05-23T00:00:00
## 11 2018-05-23T00:00:00
## 12 2018-05-23T00:00:00
## 13 2018-05-23T00:00:00
## 14 2018-05-23T00:00:00
## 15 2018-05-23T00:00:00
## 16 2018-05-23T00:00:00
## 17 2018-05-23T00:00:00
## 18 2018-05-23T00:00:00
## 19 2018-05-23T00:00:00
## 20 2018-05-23T00:00:00
## 21 2018-05-23T00:00:00
## 22 2018-05-23T00:00:00
## 23 2018-05-23T00:00:00
## 24 2018-05-23T00:00:00
## 25 2018-05-23T00:00:00
## 26 2018-05-23T00:00:00
## 27 2018-05-23T00:00:00
## 28 2018-05-23T00:00:00
## 29 2018-05-23T00:00:00
## 30 2018-05-23T00:00:00
## 31 2018-05-23T00:00:00
## 32 2018-05-23T00:00:00
## 33 2018-05-23T00:00:00
## 34 2018-05-23T00:00:00
## 35 2018-05-23T00:00:00
## 36 2018-05-23T00:00:00
##                                                                                        Subject
## 1                                                                            MEETING COMMENCED
## 2                                                                    ORAL ANSWERS TO QUESTIONS
## 3                        Collection of handling charges from persons purchasing tickets online
## 4                                   Measures to improve the reception of visitors to Hong Kong
## 5                       Foreign domestic helpers congregating in public places during holidays
## 6                            Pressure on road traffic brought about by cross-boundary vehicles
## 7                       Assisting local residents in acquiring properties by levying new taxes
## 8                                                    Maternity protection for female employees
## 9                                                                 WRITTEN ANSWERS TO QUESTIONS
## 10                       Lack of berthing spaces at typhoon shelters for small fishing vessels
## 11                                                                Sponsored Visitors Programme
## 12       A large number of Mainland tourists staying overnight in local camp sites and beaches
## 13                  Combating traffic contraventions in New Territories North and Kowloon East
## 14                                  Helping ethnic minority women integrate into the community
## 15                                 Employment of academic staff by post-secondary institutions
## 16                                   Assessments to rates for properties on agricultural lands
## 17                                         Child health assessment and rehabilitation services
## 18                                            Measures to boost the supply of industrial lands
## 19               Development of high-tier data centres and cross-boundary transmission of data
## 20                                 Bogus marriage-related offences involving human trafficking
## 21  Provision of community support services for residents of new public rental housing estates
## 22                                                          Support for single-parent families
## 23                                                                       Trading of shark fins
## 24                                                               Management of water resources
## 25                                              Supply of first-hand private residential units
## 26                                                                             GOVERNMENT BILL
## 27                                                            FIRST READING OF GOVERNMENT BILL
## 28                                                Inland Revenue (Amendment) (No. 4) Bill 2018
## 29                                                           SECOND READING OF GOVERNMENT BILL
## 30                                                Inland Revenue (Amendment) (No. 4) Bill 2018
## 31                                                                            MEMBERS' MOTIONS
## 32 Proposed resolution under section 34(4) of the Interpretation and General Clauses Ordinance
## 33                                         Motion under Rule 49B(1A) of the Rules of Procedure
## 34                                   Report of the Joint Subcommittee on Long-term Care Policy
## 35                                                          Not forgetting the 4 June incident
## 36                                                                       SUSPENSION OF MEETING
##    ResumptionOf SectionCode RundownID HansardID
## 1            NA         mtc    828481      2451
## 2            NA         orq    828485      2451
## 3            NA         orq    828487      2451
## 4            NA         orq    828511      2451
## 5            NA         orq    828541      2451
## 6            NA         orq    828581      2451
## 7            NA         orq    828603      2451
## 8            NA         orq    828643      2451
## 9            NA         wrq    828673      2451
## 10           NA         wrq    828674      2451
## 11           NA         wrq    828677      2451
## 12           NA         wrq    828680      2451
## 13           NA         wrq    828683      2451
## 14           NA         wrq    828686      2451
## 15           NA         wrq    828689      2451
## 16           NA         wrq    828692      2451
## 17           NA         wrq    828695      2451
## 18           NA         wrq    828698      2451
## 19           NA         wrq    828701      2451
## 20           NA         wrq    828704      2451
## 21           NA         wrq    828707      2451
## 22           NA         wrq    828710      2451
## 23           NA         wrq    828713      2451
## 24           NA         wrq    828716      2451
## 25           NA         wrq    828719      2451
## 26           NA         bil    828722      2451
## 27           NA         b1r    828723      2451
## 28           NA         b1r    828725      2451
## 29           NA         b2r    828727      2451
## 30           NA         b2r    828729      2451
## 31           NA         mbm    828732      2451
## 32           NA         mbm    828734      2451
## 33           NA         mbm    828743      2451
## 34           NA         mbm    828747      2451
## 35           NA         mbm    828783      2451
## 36           NA         som    828827      2451</code></pre>
<p>In this example, we will look into the motion <em>Not forgetting the 4 June incident</em>.</p>
<p>The section codes indicate the type of the business. For exmaple, the section code “mbm” of the <em>Not forgetting the 4 June incident</em> means that it is a member’s motion:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>legco_section_type[legco_section_type<span class="op">$</span>SectionCode <span class="op">==</span><span class="st"> "mbm"</span>, ]</span></code></pre></div>
<pre><code>##    SectionCode          NameEng  NameChi
## 45         mbm Members' motions 議員議案</code></pre>
<p>The RundownID indicates the location of the first paragraph of the matter concerned in the hansard file. In other words, paragraphs of RundownID between 828783 and 828826 (one RundownID prior to the next item on the agenda) are the records of the matter the <em>Not forgetting the 4 june incident</em> during the meeting. The full text of these paragraphs can be fetched by:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>w &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rundown.html">rundown</a></span>(<span class="dt">id =</span> <span class="dv">828783</span><span class="op">:</span><span class="dv">828826</span>)</span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="co"># Order by RundownID, i.e. chronological order</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>w &lt;-<span class="st"> </span>w[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/order">order</a></span>(w<span class="op">$</span>RundownID), ]</span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/colnames">rownames</a></span>(w) &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(w)</span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="co"># Some two paragraphs of the hansard relevant to the discussion of the motion</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>w<span class="op">$</span>Content[<span class="dv">41</span><span class="op">:</span><span class="dv">42</span>]</span></code></pre></div>
<pre><code>## [1] "PRESIDENT (in Cantonese): Will Members please proceed to vote."                                                  
## [2] "PRESIDENT (in Cantonese): Mr Abraham SHEK, do you wish to cast your vote?(Mr Abraham SHEK did not cast any vote)"</code></pre>
<p>To check which members have spoken about the motion and to look up some of their names:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>x &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/unique">unique</a></span>(w<span class="op">$</span>SpeakerID[<span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(w<span class="op">$</span>SpeakerID)])</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="kw"><a href="../reference/speakers.html">speakers</a></span>(<span class="dt">id =</span> x)</span></code></pre></div>
<pre><code>## Error in legco_api("hansard", query, 1000, count, verbose): Parameters too long. Please shorten your parameters and break down into multiple requests.</code></pre>
<p>The code above produces 27 filtering conditions which reahces the node count limit. If you need have parameters longer than that, break them down into multiple requests:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>y1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/speakers.html">speakers</a></span>(<span class="dt">id =</span> x[<span class="dv">1</span><span class="op">:</span><span class="dv">19</span>])</span>
<span id="cb20-2"><a href="#cb20-2"></a>y2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/speakers.html">speakers</a></span>(<span class="dt">id =</span> x[<span class="dv">20</span><span class="op">:</span><span class="dv">27</span>])</span>
<span id="cb20-3"><a href="#cb20-3"></a>y &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cbind">rbind</a></span>(y1, y2)</span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="co"># Show members who have spoken about this motion</span></span>
<span id="cb20-5"><a href="#cb20-5"></a><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(y[y<span class="op">$</span>Type <span class="op">==</span><span class="st"> "MB"</span>, ])</span></code></pre></div>
<pre><code>##   SpeakerID NameChi         NameEng Type Initial  FirstName LastName
## 2       138  林卓廷  LAM CHEUK-TING   MB     LCT Cheuk-ting      LAM
## 3       148  許智峯    HUI CHI-FUNG   MB     HCF   Chi-fung      HUI
## 4       115  張超雄 FERNANDO CHEUNG   MB     CCH  Chiu-hung   CHEUNG
## 5        99  胡志偉      WU CHI-WAI   MB     WCW    Chi-wai       WU
## 6       141  邵家臻    SHIU KA-CHUN   MB     SKC    Ka-chun     SHIU
## 7       109  梁繼昌   KENNETH LEUNG   MB      KL Kai-cheong    LEUNG</code></pre>
<p>To find out the voting results of the motion:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>v &lt;-<span class="st"> </span><span class="kw"><a href="../reference/voting_results.html">voting_results</a></span>(<span class="dt">from =</span> w<span class="op">$</span>MeetingDate[<span class="dv">1</span>], <span class="dt">to =</span> w<span class="op">$</span>MeetingDate[<span class="dv">1</span>], <span class="dt">section_code =</span> <span class="st">"mbm"</span>)</span>
<span id="cb22-2"><a href="#cb22-2"></a>v[v<span class="op">$</span>Subject <span class="op">==</span><span class="st"> "Not forgetting the 4 June incident"</span>, ]</span></code></pre></div>
<pre><code>##           MeetingDate                            Subject VoteResult
## 3 2018-05-23T00:00:00 Not forgetting the 4 June incident  Negatived
##   SectionCode RundownID HansardID
## 3         mbm    828826      2451
##                                                                                                 HansardFileURL
## 3 https://www.legco.gov.hk/yr17-18/english/counmtg/hansard/cm20180523-translate-e.pdf#nameddest=EV_VOTED_00349</code></pre>
<p>It is possible to fetch the detailed voting record of each member on this motion. To get a list of members who voted yes:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>v &lt;-<span class="st"> </span><span class="kw"><a href="../reference/voting_record.html">voting_record</a></span>(<span class="dt">from =</span> w<span class="op">$</span>MeetingDate[<span class="dv">1</span>], <span class="dt">to =</span> w<span class="op">$</span>MeetingDate[<span class="dv">1</span>])</span>
<span id="cb24-2"><a href="#cb24-2"></a>v[v<span class="op">$</span>Vote <span class="op">==</span><span class="st"> "Yes"</span>, <span class="dv">32</span><span class="op">:</span><span class="dv">33</span>]</span></code></pre></div>
<pre><code>##                NameEn Constituency
## 2            James TO   Functional
## 3     LEUNG Yiu-chung   Functional
## 6     Prof Joseph LEE   Functional
## 16         Claudia MO Geographical
## 20         WU Chi-wai Geographical
## 23  Charles Peter MOK   Functional
## 24     CHAN Chi-chuen Geographical
## 27      Kenneth LEUNG   Functional
## 29      Dr KWOK Ka-ki Geographical
## 31        Dennis KWOK   Functional
## 33 Dr Fernando CHEUNG Geographical
## 34     Dr Helena WONG Geographical
## 35        IP Kin-yuen   Functional
## 42        Alvin YEUNG Geographical
## 43         Andrew WAN Geographical
## 44       CHU Hoi-dick Geographical
## 48     LAM Cheuk-ting Geographical
## 51       SHIU Ka-chun   Functional
## 56         Tanya CHAN Geographical
## 58       HUI Chi-fung Geographical
## 63      KWONG Chun-yu   Functional
## 64         Jeremy TAM Geographical
## 65           Gary FAN Geographical
## 66         AU Nok-hin Geographical</code></pre>
<p>To check the attendance of this meeting:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># Find out MeetID of the Council meeting on May 23, 2018</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="kw"><a href="../reference/meeting.html">meeting</a></span>(<span class="dt">from =</span> w<span class="op">$</span>MeetingDate[<span class="dv">1</span>], <span class="dt">to =</span> w<span class="op">$</span>MeetingDate[<span class="dv">1</span>])</span></code></pre></div>
<pre><code>##   SlotID MeetID
## 1 174096 131473
## 2 169121 126590
## 3 172136 129529
## 4 169842 127310
## 5 174121 131498
##                                                                                                             SubjectEng
## 1                                            Meeting of Bills Committee on Inland Revenue (Amendment)(No. 6) Bill 2017
## 2 Council meeting (Regular meeting)\n(or to be held immediately after the meeting for Chief Executive’s Question Time)
## 3                                                                Council meeting (The Chief Executive's Question Time)
## 4                                                                                 Meeting of Public Works Subcommittee
## 5                      Meeting of Subcommittee on Medical Council (Election and Appointment of Lay Members) Regulation
##                                                    SubjectChi
## 1               《2017年稅務(修訂)(第6號)條例草案》委員會會議
## 2 立法會會議 (例行會議)\n(或緊接行政長官質詢時間的會議後開始)
## 3                               立法會會議 (行政長官質詢時間)
## 4                                          工務小組委員會會議
## 5        《醫務委員會(選舉和委任業外委員)規例》小組委員會會議
##         StartDateTime MeetingTypeEng MeetingTypeChi VenueCode
## 1 2018-05-23T08:30:00           Open       公開會議      Rm 3
## 2 2018-05-23T11:30:00           Open       公開會議   Chamber
## 3 2018-05-23T11:00:00           Open       公開會議   Chamber
## 4 2018-05-23T08:30:00           Open       公開會議      Rm 1
## 5 2018-05-23T08:30:00           Open       公開會議      Rm 2
##        VenueNameEng VenueNameChi TermID
## 1 Conference Room 3      會議室3      5
## 2           Chamber       會議廳      5
## 3           Chamber       會議廳      5
## 4 Conference Room 1      會議室1      5
## 5 Conference Room 2      會議室2      5
##                                                                      AgendaUrlEng
## 1         http://www.legco.gov.hk/yr17-18/english/bc/bc02/agenda/bc0220180523.htm
## 2           http://www.legco.gov.hk/yr17-18/english/counmtg/agenda/cm20180523.htm
## 3          http://www.legco.gov.hk/yr17-18/english/counmtg/agenda/cm20180523q.htm
## 4         http://www.legco.gov.hk/yr17-18/english/fc/pwsc/agenda/pwsc20180523.htm
## 5 http://www.legco.gov.hk/yr17-18/english/hc/sub_leg/sc58/agenda/sc5820180523.htm
##                                                                      AgendaUrlChi
## 1         http://www.legco.gov.hk/yr17-18/chinese/bc/bc02/agenda/bc0220180523.htm
## 2           http://www.legco.gov.hk/yr17-18/chinese/counmtg/agenda/cm20180523.htm
## 3          http://www.legco.gov.hk/yr17-18/chinese/counmtg/agenda/cm20180523q.htm
## 4         http://www.legco.gov.hk/yr17-18/chinese/fc/pwsc/agenda/pwsc20180523.htm
## 5 http://www.legco.gov.hk/yr17-18/chinese/hc/sub_leg/sc58/agenda/sc5820180523.htm</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>z &lt;-<span class="st"> </span><span class="kw"><a href="../reference/attendance.html">attendance</a></span>(<span class="dt">meet_id =</span> <span class="dv">126590</span>)</span>
<span id="cb28-2"><a href="#cb28-2"></a><span class="co"># Show members who were present</span></span>
<span id="cb28-3"><a href="#cb28-3"></a>z[z<span class="op">$</span>PresentAbsent <span class="op">==</span><span class="st"> "Present"</span>, <span class="dv">7</span><span class="op">:</span><span class="dv">9</span>] </span></code></pre></div>
<pre><code>##                   MemberNameEnglish MemberNameChinese PresentAbsent
## 1                    Hon Tanya CHAN        陳淑莊議員       Present
## 2           Hon Tommy CHEUNG Yu-yan        張宇人議員       Present
## 3               Hon LEUNG Yiu-chung        梁耀忠議員       Present
## 4                  Hon MA Fung-kwok        馬逢國議員       Present
## 5          Hon Abraham SHEK Lai-him        石禮謙議員       Present
## 6              Hon James TO Kun-sun        涂謹申議員       Present
## 7  Dr Hon Fernando CHEUNG Chiu-hung        張超雄議員       Present
## 8                 Dr Hon KWOK Ka-ki        郭家麒議員       Present
## 9          Hon Jeffrey LAM Kin-fung        林健鋒議員       Present
## 10     Prof Hon Joseph LEE Kok-long        李國麟議員       Present
## 11      Hon Andrew LEUNG Kwan-yuen         梁君彥議員       Present
## 12              Hon WONG Ting-kwong        黃定光議員       Present
## 13          Hon Starry LEE Wai-king        李慧琼議員       Present
## 14                 Hon CHAN Hak-kan        陳克勤議員       Present
## 15                 Hon CHAN Kin-por        陳健波議員       Present
## 16   Dr Hon Priscilla LEUNG Mei-fun        梁美芬議員       Present
## 17                Hon WONG Kwok-kin        黃國健議員       Present
## 18    Hon Mrs Regina IP LAU Suk-yee      葉劉淑儀議員       Present
## 19            Hon Paul TSE Wai-chun        謝偉俊議員       Present
## 20       Dr Hon Helena WONG Pik-wan        黃碧雲議員       Present
## 21            Dr Hon CHIANG Lai-wan        蔣麗芸議員       Present
## 22                   Hon Claudia MO        毛孟靜議員       Present
## 23                   Hon WU Chi-wai        胡志偉議員       Present
## 24             Hon LEUNG Che-cheung        梁志祥議員       Present
## 25           Hon Alice MAK Mei-kuen        麥美娟議員       Present
## 26         Hon Michael TIEN Puk-sun        田北辰議員       Present
## 27                 Hon CHAN Han-pan        陳恒鑌議員       Present
## 28            Dr Hon Elizabeth QUAT        葛珮帆議員       Present
## 29               Hon CHAN Chi-chuen        陳志全議員       Present
## 30            Hon Gary FAN Kwok-wai        范國威議員       Present
## 31           Hon Steven HO Chun-yin        何俊賢議員       Present
## 32        Hon Frankie YICK Chi-ming        易志明議員       Present
## 33                  Hon IP Kin-yuen        葉建源議員       Present
## 34        Hon Dennis KWOK Wing-hang        郭榮鏗議員       Present
## 35                Hon Kenneth LEUNG        梁繼昌議員       Present
## 36            Ir Dr Hon LO Wai-kwok        盧偉國議員       Present
## 37           Hon Tony TSE Wai-chuen        謝偉銓議員       Present
## 38               Hon KWOK Wai-keung        郭偉强議員       Present
## 39                Hon POON Siu-ping        潘兆平議員       Present
## 40                  Hon YIU Si-wing        姚思榮議員       Present
## 41      Hon Martin LIAO Cheung-kong        廖長江議員       Present
## 42  Hon Christopher CHEUNG Wah-fung        張華峰議員       Present
## 43               Hon CHUNG Kwok-pan        鍾國斌議員       Present
## 44            Hon Charles Peter MOK        莫乃光議員       Present
## 45                  Hon Alvin YEUNG        楊岳橋議員       Present
## 46             Hon CHEUNG Kwok-kwan        張國鈞議員       Present
## 47                 Hon HUI Chi-fung        許智峯議員       Present
## 48        Hon Wilson OR Chong-shing        柯創盛議員       Present
## 49            Hon Jeremy TAM Man-ho        譚文豪議員       Present
## 50           Hon Andrew WAN Siu-kin        尹兆堅議員       Present
## 51           Dr Hon CHENG Chung-tai        鄭松泰議員       Present
## 52        Dr Hon Junius HO Kwan-yiu        何君堯議員       Present
## 53                 Hon CHU Hoi-dick        朱凱廸議員       Present
## 54               Hon LAM Cheuk-ting        林卓廷議員       Present
## 55                 Hon YUNG Hoi-yan        容海恩議員       Present
## 56         Hon Kenneth LAU Ip-keung        劉業強議員       Present
## 57               Dr Hon Pierre CHAN        陳沛然議員       Present
## 58                  Hon HO Kai-ming        何啟明議員       Present
## 59               Hon LUK Chung-hung        陸頌雄議員       Present
## 60                 Hon SHIU Ka-chun        邵家臻議員       Present
## 61             Hon Jimmy NG Wing-ka        吳永嘉議員       Present
## 62               Hon CHAN Chun-ying        陳振英議員       Present
## 63                  Hon SHIU Ka-fai        邵家輝議員       Present
## 64                 Hon LAU Kwok-fan        劉國勳議員       Present
## 65                Hon KWONG Chun-yu        鄺俊宇議員       Present
## 66          Hon Holden CHOW Ho-ding        周浩鼎議員       Present
## 67                   Hon AU Nok-hin        區諾軒議員       Present
## 68      Hon Vincent CHENG Wing-shun        鄭泳舜議員       Present</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#installing-legco">Installing legco</a></li>
      <li><a href="#understanding-the-legco-apis">Understanding the LegCo APIs</a></li>
      <li><a href="#api-limits">API Limits</a></li>
      <li><a href="#examples">Examples</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://elgarteo.ga">Elgar Teo</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
